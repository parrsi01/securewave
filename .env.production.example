# =============================================================================
# SecureWave VPN - Production Environment Configuration
# Copy this to .env and fill in the values
# =============================================================================

# Environment Mode
ENVIRONMENT=production

# Database (PostgreSQL recommended for production)
DATABASE_URL=postgresql://user:password@hostname:5432/securewave
DB_SSL_MODE=require

# Security - JWT Tokens (generate secure random values)
ACCESS_TOKEN_SECRET=<generate-secure-64-char-random-string>
REFRESH_TOKEN_SECRET=<generate-secure-64-char-random-string>
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_MINUTES=10080

# Security - CORS (no wildcards in production)
CORS_ORIGINS=https://securewave.app,https://www.securewave.app
ALLOWED_HOSTS=securewave.app,www.securewave.app

# Rate Limiting (use Redis for distributed rate limiting)
REDIS_URL=redis://username:password@hostname:6379/0

# =============================================================================
# WireGuard Configuration - REAL VPN MODE
# =============================================================================

# Set to false for real VPN functionality
WG_MOCK_MODE=false
DEMO_MODE=false

# DNS servers for VPN clients
WG_DNS=1.1.1.1,1.0.0.1

# Local storage for config files (must be persistent)
WG_DATA_DIR=/app/wg_data

# WireGuard endpoint (single-server fallback)
WG_ENDPOINT=172.201.201.2:51820

# Encryption key for private keys (generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())")
WG_ENCRYPTION_KEY=<your-fernet-key>
AUTH_ENCRYPTION_KEY=<your-fernet-key>

# Override server public key (optional, if not using per-server keys)
WG_SERVER_PUBLIC_KEY=f/C/Zvq4r2FxUBwglIT65ozbX51oRi6+tOdVW4JI7lk=

# =============================================================================
# WireGuard Server Communication
# =============================================================================

# Live WireGuard Server Details (securewave-wg VM)
# Public IP: 172.201.201.2
# WireGuard Port: 51820/UDP
# Server Public Key: f/C/Zvq4r2FxUBwglIT65ozbX51oRi6+tOdVW4JI7lk=

# Option 1: SSH-based communication (recommended)
WG_SSH_USER=azureuser
WG_SSH_KEY_PATH=/app/keys/wg_server.pem
WG_COMMAND_TIMEOUT=30

# Option 2: Azure VM Run Command (works without SSH key)
WG_VM_NAME=securewave-wg
WG_RESOURCE_GROUP=SecureWaveRG

# Option 3: HTTP API (if management API is enabled on VPN servers)
# To enable: SSH to VM and run: systemctl enable --now wg-management-api
WG_API_KEY=<your-api-key>
WG_API_PORT=8080

# Auto-register peers when config is generated
# Set to 'false' to require manual peer registration via admin API
WG_AUTO_REGISTER_PEERS=true

# =============================================================================
# Payment Processing
# =============================================================================

PAYMENTS_MOCK=false
STRIPE_SECRET=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PUBLISHABLE_KEY=pk_live_...

PAYPAL_CLIENT_ID=<your-paypal-client-id>
PAYPAL_CLIENT_SECRET=<your-paypal-client-secret>
PAYPAL_MODE=live

# =============================================================================
# Email Configuration
# =============================================================================

SENDGRID_API_KEY=SG....
FROM_EMAIL=noreply@securewave.app
FROM_NAME=SecureWave VPN

# =============================================================================
# Application Settings
# =============================================================================

PORT=8000
WEB_CONCURRENCY=4
GUNICORN_TIMEOUT=120
APP_BASE_URL=https://securewave.app

# =============================================================================
# Monitoring & Logging
# =============================================================================

# Azure Application Insights
APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=...

# Sentry (optional)
SENTRY_DSN=https://...@sentry.io/...

# =============================================================================
# ML Models (optional)
# =============================================================================

QOS_MODEL_PATH=data/models/qos_model.json
RISK_MODEL_PATH=data/models/risk_model.json
